/**
************************************************************
************************************************************
************************************************************
*
*	作者： 		重庆八城科技
*
*	日期： 		2019-12-24
*
*	版本： 		V2.0
*
*	说明： 		外部中断实验
*
*	修改记录：	
************************************************************
************************************************************
************************************************************
**/
#include <ioCC2530.h>
#include "delay.h"
#include "EXTI.h"
#include "Lamp.h"
#include "KEY.h"
#include "LED.h"

//==========================================================
//	函数名称：	main()
//
//	函数功能：	程序入口函数
//
//	入口参数：	无
//
//	返回参数：	无
//
//	说明：		
//==========================================================
void main(void)
{
    Hal_Init_32M();   //初始化32M时钟
    LED_Init();       //风扇初始化
    EXTI_Init();      //外部中断初始化
    LampInit();       //底座灯初始化

    while(1)
    {
        if(!Key_Flag)
        {
          LED_ON();
          delay_ms(500);
          LED_OFF();
          delay_ms(500);
          LED_ON();
          delay_ms(500);
          LED_OFF();
          Key_Flag=1;  
        }
        else
        {
          Water_Lamp(500); //流水灯
        }
    }
}
